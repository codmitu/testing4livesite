{"version":3,"sources":["firebase.ts","App.tsx","redux/action-types/index.ts","emailAuth.ts","reportWebVitals.ts","redux/reducers/bankReducer.ts","redux/reducers/index.ts","redux/store.ts","index.tsx"],"names":["app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAnalytics","getAuth","useDeviceLanguage","Providers","google","GoogleAuthProvider","facebook","FacebookAuthProvider","App","ActionType","emailRef","useRef","useAuthState","user","console","log","handleSignUp","email","message","sendSignInLinkToEmail","url","handleCodeInApp","then","window","localStorage","setItem","JSON","stringify","catch","error","code","emailAuth","useEffect","isSignInWithEmailLink","location","href","parse","getItem","prompt","signInWithEmailLink","result","removeItem","providerData","providerId","className","type","placeholder","ref","onClick","e","current","value","signInWithPopup","credential","credentialFromResult","accessToken","credentialFromError","errorCode","errorMessage","signOut","displayName","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducer","state","action","DEPOSIT","payload","WITHDRAW","BANKRUPT","reducers","combineReducers","bank","bankReducer","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f653d246.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { FacebookAuthProvider, GoogleAuthProvider, getAuth  } from \"firebase/auth\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\nconst auth = getAuth()\r\nauth.useDeviceLanguage()\r\n// or auth.languageCode = 'ro'\r\nconst Providers = {\r\n  google: new GoogleAuthProvider(),\r\n  facebook: new FacebookAuthProvider(),\r\n};\r\n\r\nexport {Providers, auth}","import { MutableRefObject, useEffect, useRef } from \"react\";\nimport { FacebookAuthProvider, GoogleAuthProvider, isSignInWithEmailLink, signInWithEmailLink, signInWithPopup, signOut } from '@firebase/auth'\nimport {auth, Providers} from \"./firebase\"\nimport { emailAuth } from \"./emailAuth\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nfunction App() {\n  const emailRef = useRef() as MutableRefObject<HTMLInputElement>;\n  const [user, loading] = useAuthState(auth)\n  console.log(user)\n\n  const handleSignUp = (email: string) => {\n    const message = emailAuth(email)\n    console.log(message)\n  }\n\n  const handleGoogle = () => {\n    signInWithPopup(auth, Providers.google)\n      .then((result) => {\n        const credential = GoogleAuthProvider.credentialFromResult(result)\n        const token = credential?.accessToken\n        const user = result.user\n      }).catch((error) => {\n        const errorCode = error.code\n        const errorMessage = error.message\n        const email = error.email\n        const credential = GoogleAuthProvider.credentialFromError(error)\n      })\n  }\n\n  const handleFacebook = () => {\n    signInWithPopup(auth, Providers.facebook)\n      .then((result) => {\n        const credential = FacebookAuthProvider.credentialFromResult(result)\n        const accessToken = credential?.accessToken\n        const user = result.user\n      }).catch((error) => {\n        const errorCode = error.code\n        const errorMessage = error.message\n        const email = error.email\n        const credential = FacebookAuthProvider.credentialFromError(error)\n        console.log(errorCode, errorMessage, email, credential)\n      })\n  }\n\n  const handleLogOut = () => {\n    signOut(auth).then(() => {\n      console.log(\"signed out\")\n    }).catch((error) => {\n      console.log(error)\n    })\n  }\n\n  useEffect(() => {\n    if(isSignInWithEmailLink(auth, window.location.href)) {\n        let email = JSON.parse(localStorage.getItem('emailToSignUp') || '{}')\n        if(!email) {\n            email = window.prompt(\"Te rog adauga email-ul pentru confirmare.\")\n        }\n        console.log(email.email)\n        signInWithEmailLink(auth, email.email, window.location.href)\n          .then((result) => {\n              window.localStorage.removeItem('emailToSignUp')\n              console.log(result.user, result)\n          })\n          .catch((error) => {\n              console.log(error.code, error.message)\n          })\n    }\n  }, [])\n\n  useEffect(() => {\n    if (user?.providerData[0].providerId === \"facebook.com\" && !user.email) {\n      let email = window.prompt(\"Te rog adauga un email\")\n      // handleSignUp(email)\n      console.log(email)\n    }\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <input type=\"email\" placeholder=\"email\" ref={emailRef}  />\n      <button onClick={e => handleSignUp(emailRef.current.value)}>Sign in with Email</button>\n      <button onClick={handleGoogle}>Sign in with Google</button>\n      <button onClick={handleFacebook}>Sign in with Facebook</button>\n      <button onClick={handleLogOut}>Log out</button>\n      <div>{user?.email + \" \" + user?.displayName}</div>\n    </div>\n  );\n}\n\nexport default App;\n","export enum ActionType {\r\n    DEPOSIT = \"deposit\",\r\n    WITHDRAW = \"withdraw\",\r\n    BANKRUPT = \"bankrupt\"\r\n}","import { sendSignInLinkToEmail } from '@firebase/auth'\r\nimport {auth} from \"./firebase\"\r\n\r\nexport const emailAuth = (email: string) => {\r\n\r\n    const actionCodeSettings = {\r\n        // URL you want to redirect back to. The domain (www.example.com) for this\r\n        // URL must be in the authorized domains list in the Firebase Console.\r\n        url: 'https://codmitu.github.io/testing4livesite/',\r\n        // This must be true.\r\n        handleCodeInApp: true,\r\n        // iOS: {\r\n        //   bundleId: 'com.example.ios'\r\n        // },\r\n        // android: {\r\n        //   packageName: 'com.example.android',\r\n        //   installApp: true,\r\n        //   minimumVersion: '12'\r\n        // },\r\n        // dynamicLinkDomain: 'https://codmitu.github.io/lotto-generator/'\r\n      };\r\n\r\n\r\n    sendSignInLinkToEmail(auth, email, actionCodeSettings)\r\n        .then(() => {\r\n            console.log(\"check email\")\r\n            window.localStorage.setItem('emailToSignUp', JSON.stringify({\r\n                \"email\": email\r\n            }))\r\n        })\r\n        .catch((error) => {\r\n            console.log(error.code, error.message)\r\n        })\r\n\r\n    return \"check email\"\r\n}\r\n\r\n\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { ActionType } from '../action-types'\r\nimport {Action} from '../actions/index'\r\n\r\nconst initialState = 0\r\n\r\nconst reducer = (state: number = initialState, action: Action) => {\r\n    switch (action.type) {\r\n        case ActionType.DEPOSIT:\r\n            return state + action.payload\r\n        case ActionType.WITHDRAW:\r\n            return state - action.payload\r\n        case ActionType.BANKRUPT:\r\n            return 0\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer","import {combineReducers} from \"redux\"\r\nimport bankReducer from './bankReducer'\r\n\r\nconst reducers = combineReducers({ \r\n    bank: bankReducer\r\n})\r\n\r\nexport default reducers\r\n\r\nexport type State = ReturnType<typeof reducers>","import { applyMiddleware, createStore } from \"redux\";\r\nimport reducers from './reducers/index'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nexport const store = createStore(\r\n    reducers,\r\n    {},\r\n    applyMiddleware(thunk)\r\n)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux'\nimport {store} from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}